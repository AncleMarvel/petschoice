{{ "checkout-prefill.css" | asset_url | stylesheet_tag }}

{% comment %} 

This snippet is used to prefill the checkout form with the customer's information in a modal window.

1. Contact information:
    - first name
    - last name
    - email
    - phone number
2. Shipping type:
    - shipping to an post office
    - shipping to an address by courier
3. If shipping to an address by courier (Search with hints and autocomplete):
    - address
    - city
    - postal code (automatically filled in based on the city)
    - country (Ukraine by default)
4. If shipping to an post office (Search with hints and autocomplete):
    - post office number
    - city
    - country (Ukraine by default)

{% endcomment %}

<div class="prefill-overlay hidden" id="prefill-overlay">
    <div class="prefill-container" id="prefill-container">
        <div class="prefill-header">
            <h2>Оформлення замовлення</h2>
            <button class="prefill-close-btn" id="close-prefill-form">
                {% render "icon", icon: "close", class: "prefill-close-btn-icon" %}
            </button>
        </div>
        <div class="prefill-content">
            <form id="prefill-form">
                <!-- Contact Information -->
                <fieldset>
                    <legend>Контактні дані</legend>
                    <label for="first-name">Ім'я</label>
                    <input class="input" type="text" id="first-name" name="first-name" required />

                    <label for="last-name">Фамілія</label>
                    <input class="input" type="text" id="last-name" name="last-name" required />

                    <label for="email">Електронна адреса</label>
                    <input class="input" type="email" id="email" name="email" required />

                    <label for="phone">Номер телефону</label>
                    <input class="input" type="tel" id="phone" name="phone" placeholder="+380" required />
                </fieldset>

                <!-- Shipping Type -->
                <fieldset>
                    <legend>Метод доставки</legend>
                    <label>
                        <input type="radio" name="shipping-type" value="post-office" checked />
                        Доставка на відділення Нової Пошти
                    </label>
                    <label>
                        <input type="radio" name="shipping-type" value="courier" />
                        Кур'єрська доставка від Нова Пошта
                    </label>
                </fieldset>

                <!-- Post Office Shipping -->
                <div id="post-office-shipping" class="shipping-details">
                    <fieldset>
                        <legend>Відділення Нової Пошти</legend>
                        <label for="settlement-search">Пошук населеного пункту</label>
                        <input class="input" type="text" id="settlement-search" name="settlement-search" autocomplete="off" />
                        
                        <select class="select" name="settlement-selection" id="settlement-selection">
                            <option value="" selected disabled hidden>Виберіть наслений пункт</option>
                            
                        </select>

                        <label for="post-office-number">Пошук відділення</label>
                        <input class="input" type="text" id="search-post-office" name="search-post-office" autocomplete="off" />

                        <select class="select" name="post-office" id="post-office">
                            <option value="" selected disabled hidden>Виберіть відділення</option>
                            
                        </select>
                    </fieldset>
                </div>

                <!-- Address for Courier -->
                <div id="courier-shipping" class="shipping-details">
                    <fieldset>
                        <legend>Адреса доставки</legend>
                        <label for="area">Область</label>
                        <input class="input" type="text" id="area" name="area" autocomplete="area" />

                        <label for="city">Населений пункт (місто)</label>
                        <input class="input" type="text" id="city" name="city" autocomplete="city" />

                        <label for="street">Вулиця</label>
                        <input class="input" type="text" id="street" name="street" autocomplete="street" />

                        <label for="street">Дім</label>
                        <input class="input" type="text" id="house" name="house" autocomplete="house" />

                        <label for="street">Квартира</label>
                        <input class="input" type="text" id="flat" name="flat" autocomplete="flat" />

                        <input class="input" type="text" id="postal-code" name="postal-code" hidden readonly />

                        <input class="input" type="text" id="country" name="country" value="Ukraine" hidden readonly />
                    </fieldset>
                </div>

                <button type="submit" class="prefill-submit-btn">Продовжити</button>
            </form>
        </div>
    </div>
</div>

{{ "checkout-prefill.js" | asset_url | script_tag }}